---
layout: post
title: 'Running Wordpress on one.com accounts'
tags: [software,wordpress]
redirect_from: /blog/archive/2007/01/14/wordpress_on_one.com
---

My girlfriend has a hosting account at [one.com](http://one.com) for
[her domain](http://www.webtrotter.se/ilsefin) (number of .se-domains
owned by the two people in this household: *Three*). Until now, she has
been running static html pages generated by Dreamweaver, but a month or
so ago, she decided she wanted to go for
[Wordpress](http://wordpress.org).

As she has a background as a PC technician and a good understanding of
how computers work in general, and also because Wordpress is really easy
to install, she managed to install and get working with Wordpress
without much help. It did not work 100%, though. The file upload dialog
was not working, instead displaying an error message from Apache, and
after many common administrative operatings, the same apache error
message was displayed, and you had to manually navigate to a known URL
to get back into the interface.

\
After some analysis using [Wireshark,](http://wireshark.org) I came to
the conclusion that for some reason, the
[Apache](http://httpd.apache.org) servers at one.com didn't let PHP
scripts set the Location header when trying to do redirects with HTTP
response code 302 (temporary relocation). Weird. \
\
The solution was to enable support for *my-hacks.php* (can be done via
the administrative interface), and add a *my-hacks.php* to the root
directory of the wordpress installation with the following contents:\
\

    <?php$is_IIS = 1;?>

\
This causes wordpress to use an alternative strategy for doing
redirects, which works better with the Apache servers at one.com.\
\
The fact that one.com has turned off the regular expression support in
mod\_rewrite did by the way not help when writing rules to make sure old
links redirect to the new url scheme used by wordpress. \


